(this.webpackJsonpmosmetro=this.webpackJsonpmosmetro||[]).push([[0],{165:function(e,t,a){},166:function(e,t,a){},329:function(e,t){},370:function(e,t,a){"use strict";a.r(t);var o=a(3),r=a(0),s=a.n(r),n=a(40),c=a.n(n),i=(a(165),a(25)),l=a(11),d=(a(166),a(16)),j=a(44),p=a.n(j),b=a(17),h=a.n(b),A=a.p+"static/media/express.7af62329.png",O={width:"100%",height:"100vh",latitude:55.721,longitude:37.6003,zoom:9.5};var u=function(e){var t=Object(r.useRef)(null),a=e.setShowStationInfo,s=e.stationsData,n=e.linesData,c=e.pathData,j=(e.selectedStation1,e.selectedStation2,e.setSelectedStation1,e.setSelectedStation2,e.pathStations),p=e.riverData,b=e.boundaryData,h=e.airportPointsData,u=e.airportLinesData,m=e.airportData,x=e.metroPointsData,f=Object(i.a)({},O),g=Object(r.useState)(f),y=Object(l.a)(g,2),S=y[0],w=y[1],C=Object(r.useState)(!1),v=Object(l.a)(C,2),B=v[0],N=v[1],D=function(e){t.current&&(t.current.getMap().setPaintProperty("lines-layer","line-opacity",e),t.current.getMap().setPaintProperty("stations-layer_point","circle-opacity",e),t.current.getMap().setPaintProperty("stations-layer_center","circle-opacity",e),t.current.getMap().setPaintProperty("stations-layer_name","text-opacity",e))},I=function(e,a){t.current.getMap().loadImage(e,(function(e,o){if(e)throw e;t.current.getMap().hasImage(a)||t.current.getMap().addImage(a,o)}))};return Object(r.useEffect)((function(){B&&(c.features.length>0?D(.2):D(1))}),[c]),Object(o.jsxs)(d.c,Object(i.a)(Object(i.a)({className:"mapbox",ref:t,mapboxApiAccessToken:"pk.eyJ1IjoiZG9uaW5wciIsImEiOiJjaXVxM3E4OTkwMDAwMm9wczBnYjR4bnJoIn0.7drt92qBRl7KJ6dLg0mrww",mapStyle:"mapbox://styles/doninpr/ckgxo0l6e3rxb19qjcm2gy0bf/draft"},S),{},{maxZoom:13,onLoad:function(e){I("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAgVBMVEUAAABOrNtOrthPrdlOrthOrtlOrthOrthOrthPrddOr9hOrthOrtlOrthJtttOrthOrtdVqt1Qr99NrthOrthOrtlNr9hOrthOrthPrtlOrtlOr9dOrthOrthOrthPrthOrthOrthOrthOrdhOsdhOrtdNrdhRrtpNrNlOrtgAAADOmwptAAAAKXRSTlMAMd+fwlhVw6pnae+t8AfA1Q8Q1rfptfzj8Lq7/u69vL5oxIkNreopKBBaOcYAAAABYktHRACIBR1IAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH5AsBAiwR3mg6cgAAAJFJREFUGNNNzusSgiAQhuHPU2B46GSiokVqtfd/g7lE5vsDZp5h2AWCkNbCAEBEcbJzJYKiBSSl8O1JOlCZdGU5Q1Eejr8Xp3NZ4FJJrMnqilpvQdcQ+RaaeDnaP3RuimmlrzPfsf1geE1zU36PFHeGAdaDsDmDsg8HI20aF5jmSjf8ZaOf88SzXopivgX1b+ADrmIO7RWZFYUAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjAtMTEtMDFUMDI6NDQ6MTcrMDA6MDDAEhTeAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIwLTExLTAxVDAyOjQ0OjE3KzAwOjAwsU+sYgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=","autobus"),I(A,"express"),I("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAhQAAAIUB4uz/wQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAADeSURBVDiNtZIxCsJAEEXfxD6pBRsvICmt7PUAAS9g7y08geQksfcUnkB7QbAJ38IR12Q3guCHgcnf/z+b2TFJxGBmI+DonwtJbVQoKVrADJDXLKXLoqlPZIk+KfoJfw2YJvpPRIZXAHug5T3E1rmip++YK+AcGLt1BqpegF+xGTB2qwGmrx1aA7fg8ALUwDbgts5dAu7mXmrgBOyAOWCeXAbi0jlzzc49NUCe2MReQESTZ5KuySf6AknXoT2YJPpeSuxqG+Ae/MId2MS0r4F9wMwOPCfeOLUCxpKWXe0DD9fk64zXtw0AAAAASUVORK5CYII=","airport"),I("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAABvAAAAbwHxotxDAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAADZQTFRF/////wAA5Bsb4Rsb4xoa4Rwc4xsb4Rsb4hsb4hsb4hsb4yIi4yYm8ZSU98DA98HB98LC////D8BLZgAAAAp0Uk5TAAEmcH+As7Xm9myQZpsAAABqSURBVBhXZY9JDgMhDASrbWDy/98OwfYcQhRF1LGl3gRgLiMrEhDIhgComYXQcL7ELOEXP+6QXcKUhaySutU7eIvAfQVMjQZyr7KIgqWXAeoiVwG5hWbU+yNsS0rbcoQetcewc/pxjv/7D9JkQzloZ2NlAAAAAElFTkSuQmCC","closed"),N(!0)},minZoom:8,onClick:function(e){var t=e.features[0];e.features[1];console.log(t),t&&-1!==t.layer.id.indexOf("stations-layer")&&a(t)},onViewportChange:function(e){return w(e)},children:[Object(o.jsx)(d.b,{id:"boundary-data",type:"geojson",data:b,children:Object(o.jsx)(d.a,{id:"boundary-layer",type:"fill",paint:{"fill-color":"#fff"}})}),Object(o.jsx)(d.b,{id:"river-data",type:"geojson",data:p,children:Object(o.jsx)(d.a,{id:"river-layer",type:"fill",paint:{"fill-color":"#e0f3fa"}})}),Object(o.jsxs)(d.b,{id:"airport-lines-data",type:"geojson",data:u,children:[Object(o.jsx)(d.a,{id:"airport-lines-layer",type:"line",paint:{"line-color":["match",["get","type"],"\u0430\u044d\u0440\u043e\u044d\u043a\u0441\u043f\u0440\u0435\u0441\u0441","#e196a8","#aedbef"],"line-width":1}}),Object(o.jsx)(d.a,{id:"airport-lines-symbol",type:"symbol",paint:{},layout:{"symbol-placement":"line","text-size":["interpolate",["linear"],["zoom"],8,3,13,14],"text-offset":[0,1],"text-max-angle":0,"symbol-spacing":400,"text-field":["get","name"]}})]}),Object(o.jsx)(d.b,{id:"airport-points-data",type:"geojson",data:h,children:Object(o.jsx)(d.a,{id:"airport-points-layer",type:"symbol",layout:{"icon-image":["match",["get","type"],"\u0430\u044d\u0440\u043e\u044d\u043a\u0441\u043f\u0440\u0435\u0441\u0441","express","autobus"],"icon-size":["interpolate",["linear"],["zoom"],8,.3,13,1]}})}),Object(o.jsx)(d.b,{id:"airports-data",type:"geojson",data:m,children:Object(o.jsx)(d.a,{id:"airports-layer",type:"symbol",layout:{"icon-image":"airport","icon-size":["interpolate",["linear"],["zoom"],8,.4,13,1.2],"text-field":["get","name"],"text-size":["interpolate",["linear"],["zoom"],8,4,13,14],"text-allow-overlap":!0,"text-font":["Moscow Sans Regular","Open Sans Regular"],"text-anchor":"left","text-justify":"left","text-offset":[1,0]}})}),Object(o.jsx)(d.b,{id:"lines-data",type:"geojson",data:n,children:Object(o.jsx)(d.a,{id:"lines-layer",type:"line",paint:{"line-color":["get","color"],"line-gap-width":["match",["get","line_type"],"\u043c\u0446\u043a",1,"\u043c\u0446\u0434",1,0],"line-width":["interpolate",["linear"],["zoom"],8,["match",["get","line_type"],"\u043c\u0446\u043a",1,"\u043c\u0446\u0434",1,2],13,["match",["get","line_type"],"\u043c\u0446\u043a",4,"\u043c\u0446\u0434",4,8]]}})}),Object(o.jsx)(d.b,{id:"path-data",type:"geojson",data:c,children:Object(o.jsx)(d.a,{id:"path-layer",type:"line",paint:{"line-color":["get","color"],"line-gap-width":["match",["get","line_type"],"\u043c\u0446\u043a",1,"\u043c\u0446\u0434",1,0],"line-width":["interpolate",["linear"],["zoom"],8,["match",["get","line_type"],"\u043c\u0446\u043a",1,"\u043c\u0446\u0434",1,2],13,["match",["get","line_type"],"\u043c\u0446\u043a",4,"\u043c\u0446\u0434",4,8]]}})}),Object(o.jsxs)(d.b,{id:"metro-data",type:"geojson",data:x,children:[Object(o.jsx)(d.a,{id:"metro-layer",type:"circle",paint:{"circle-radius":["interpolate",["linear"],["zoom"],8,3,13,15],"circle-color":["get","color"]}}),Object(o.jsx)(d.a,{id:"metro-layer_name",type:"symbol",paint:{"text-halo-color":"#fff","text-color":"#fff","text-halo-width":.25},layout:{"text-field":["get","name"],"text-allow-overlap":!0,"text-font":["Moscow Sans Regular","Open Sans Regular"],"text-size":["interpolate",["linear"],["zoom"],8,3,13,15]}})]}),Object(o.jsxs)(d.b,{id:"stations-data",type:"geojson",data:s,children:[Object(o.jsx)(d.a,{id:"stations-layer_point",type:"circle",paint:{"circle-radius":["interpolate",["linear"],["zoom"],8,3,13,9],"circle-color":["get","color"]}}),Object(o.jsx)(d.a,{id:"stations-layer_center",type:"circle",paint:{"circle-radius":["interpolate",["linear"],["zoom"],8,1,13,5],"circle-color":"#fff"}}),Object(o.jsx)(d.a,{id:"stations-layer_status",type:"symbol",filter:["all",["!=",["get","status"],"open"]],layout:{"icon-size":["interpolate",["linear"],["zoom"],8,.2,13,1],"icon-image":"closed","icon-allow-overlap":!0}}),Object(o.jsx)(d.a,{id:"stations-layer_name",type:"symbol",paint:{"text-halo-color":"#fff","text-halo-width":1},layout:{"text-field":["get","name"],"text-anchor":"left","text-offset":[.7,0],"text-font":["Moscow Sans Regular","Open Sans Regular"],"text-size":["interpolate",["linear"],["zoom"],8,3,13,16]}})]}),Object(o.jsxs)(d.b,{id:"path-stations-data",type:"geojson",data:j,children:[Object(o.jsx)(d.a,{id:"stations-layer_point--path",type:"circle",paint:{"circle-radius":["interpolate",["linear"],["zoom"],8,3,13,9],"circle-color":["get","color"]}}),Object(o.jsx)(d.a,{id:"stations-layer_center--path",type:"circle",paint:{"circle-radius":["interpolate",["linear"],["zoom"],8,1,13,5],"circle-color":"#fff"}}),Object(o.jsx)(d.a,{id:"stations-layer_name--path",type:"symbol",paint:{"text-halo-color":"#fff","text-halo-width":1},layout:{"text-field":["get","name"],"text-anchor":"left","text-offset":[.7,0],"text-font":["Moscow Sans Regular","Open Sans Regular"],"text-size":["interpolate",["linear"],["zoom"],8,3,13,16]}})]})]}))},m=a(8),x=a(7),f=a(13),g=a(31),y=a(19),S=a.n(y),w=a(378),C=a(374),v=a(155),B=a(375),N={1:"\u0421\u043e\u043a\u043e\u043b\u044c\u043d\u0438\u0447\u0435\u0441\u043a\u0430\u044f",2:"\u0417\u0430\u043c\u043e\u0441\u043a\u0432\u043e\u0440\u0435\u0446\u043a\u0430\u044f",3:"\u0410\u0440\u0431\u0430\u0442\u0441\u043a\u043e-\u041f\u043e\u043a\u0440\u043e\u0432\u0441\u043a\u0430\u044f",4:"\u0424\u0438\u043b\u0435\u0432\u0441\u043a\u0430\u044f",5:"\u041a\u043e\u043b\u044c\u0446\u0435\u0432\u0430\u044f",6:"\u041a\u0430\u043b\u0443\u0436\u0441\u043a\u043e-\u0420\u0438\u0436\u0441\u043a\u0430\u044f",7:"\u0422\u0430\u0433\u0430\u043d\u0441\u043a\u043e-\u041a\u0440\u0430\u0441\u043d\u043e\u043f\u0440\u0435\u0441\u043d\u0435\u043d\u0441\u043a\u0430\u044f",8:"\u041a\u0430\u043b\u0438\u043d\u0438\u043d\u0441\u043a\u043e-\u0421\u043e\u043b\u043d\u0446\u0435\u0432\u0441\u043a\u0430\u044f",9:"\u0421\u0435\u0440\u043f\u0443\u0445\u043e\u0432\u0441\u043a\u043e-\u0422\u0438\u043c\u0438\u0440\u044f\u0437\u0435\u0432\u0441\u043a\u0430\u044f",10:"\u041b\u044e\u0431\u043b\u0438\u043d\u0441\u043a\u043e-\u0414\u043c\u0438\u0442\u0440\u043e\u0432\u0441\u043a\u0430\u044f","11A":"\u041a\u0430\u0445\u043e\u0432\u0441\u043a\u0430\u044f",12:"\u0411\u0443\u0442\u043e\u0432\u0441\u043a\u0430\u044f",14:"\u041c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u043e\u0435 \u0426\u0435\u043d\u0442\u0440\u0430\u043b\u044c\u043d\u043e\u0435 \u041a\u043e\u043b\u044c\u0446\u043e",13:"\u041c\u043e\u043d\u043e\u0440\u0435\u043b\u044c\u0441",D1:"\u041c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u0438\u0435 \u0446\u0435\u043d\u0442\u0440\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0438\u0430\u043c\u0435\u0442\u0440\u044b",D2:"\u041c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u0438\u0435 \u0446\u0435\u043d\u0442\u0440\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0438\u0430\u043c\u0435\u0442\u0440\u044b",15:"\u041d\u0435\u043a\u0440\u0430\u0441\u043e\u0432\u0441\u043a\u0430\u044f"},D=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(e){var o;return Object(m.a)(this,a),(o=t.call(this,e)).props=e,o}return Object(x.a)(a,[{key:"render",value:function(){var e=this,t=this.props.stationInfo;return Object(o.jsxs)(w.a,{className:this.props.className?this.props.className:"modal-full",show:!(!1===t),onHide:function(){return e.props.setShow(!1)},size:this.props.size||"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(o.jsx)(w.a.Header,{closeButton:!0,children:Object(o.jsx)(w.a.Title,{id:"contained-modal-title-vcenter",children:t.properties&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"station-caption",children:N[t.properties.line]}),Object(o.jsxs)("div",{className:"station-header",children:[Object(o.jsx)("span",{style:{backgroundColor:t.properties.color},children:t.properties.line}),t.properties.name]})]})})}),Object(o.jsxs)(w.a.Body,{className:"station-body",children:[t&&"open"===t.properties.status&&Object(o.jsxs)(C.a,{children:[Object(o.jsx)(v.a,{xs:6,children:Object(o.jsx)(B.a,{onClick:function(){e.props.setSelectedStation1(t),e.props.setShow(!1)},children:"\u2191 \u041e\u0442\u0441\u044e\u0434\u0430"})}),Object(o.jsx)(v.a,{xs:6,children:Object(o.jsx)(B.a,{onClick:function(){e.props.setSelectedStation2(t),e.props.setShow(!1)},children:"\u2193 \u0421\u044e\u0434\u0430"})})]}),t&&"open"!==t.properties.status&&Object(o.jsx)(C.a,{children:Object(o.jsx)(v.a,{children:Object(o.jsx)("p",{children:"\u0421\u0442\u0430\u043d\u0446\u0438\u044f \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u0437\u0430\u043a\u0440\u044b\u0442\u0430."})})}),Object(o.jsx)(C.a,{children:Object(o.jsx)(v.a,{children:Object(o.jsx)(B.a,{onClick:function(){e.props.setShowFullModal(!0)},className:"button-info",children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})})})]})]})}}]),a}(s.a.Component),I=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(e){var o;return Object(m.a)(this,a),(o=t.call(this,e)).props=e,o}return Object(x.a)(a,[{key:"render",value:function(){var e=this.props,t=e.selectedStation1,a=e.selectedStation2,r=e.pathData,s=e.setPathData,n=0;S.a.map(r.features,(function(e){n+=e.properties.time}));this.props.stationInfo;return Object(o.jsxs)(w.a,{className:this.props.className?this.props.className:"modal-full",show:r.features.length>0,onHide:function(){return s(h.a.featureCollection([]))},size:this.props.size||"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(o.jsx)(w.a.Header,{closeButton:!0,children:Object(o.jsx)(w.a.Title,{id:"contained-modal-title-vcenter",children:t&&a&&Object(o.jsxs)(C.a,{className:"route-header",children:[Object(o.jsxs)(v.a,{xs:6,children:[Object(o.jsx)("div",{className:"station-caption",children:"\u041e\u0442\u043a\u0443\u0434\u0430:"}),Object(o.jsxs)("div",{className:"station-header",children:[Object(o.jsx)("span",{style:{backgroundColor:t.properties.color},children:t.properties.line}),t.properties.name]})]}),Object(o.jsxs)(v.a,{xs:6,children:[Object(o.jsx)("div",{className:"station-caption",children:"\u041a\u0443\u0434\u0430:"}),Object(o.jsxs)("div",{className:"station-header",children:[Object(o.jsx)("span",{style:{backgroundColor:a.properties.color},children:a.properties.line}),a.properties.name]})]})]})})}),Object(o.jsx)(w.a.Body,{className:"station-body",children:Object(o.jsxs)(C.a,{children:[Object(o.jsx)(v.a,{xs:12,children:Object(o.jsxs)("p",{children:["\u0412\u0440\u0435\u043c\u044f \u0432 \u043f\u0443\u0442\u0438: ",Object(o.jsxs)("span",{children:[n," \u043c\u0438\u043d."]})]})}),Object(o.jsx)(v.a,{xs:12})]})})]})}}]),a}(s.a.Component),k=a(156),z=a(376),R=a(380),E=a(377),U={scales:{yAxes:[{ticks:{beginAtZero:!0}}]}},G={1:"\u043f\u043d",2:"\u0432\u0442",3:"\u0441\u0440",4:"\u0447\u0442",5:"\u043f\u0442",6:"\u0441\u0431",7:"\u0432\u0441"},M=function(e){var t=e.data,a=Object(r.useState)("\u043f\u043d"),s=Object(l.a)(a,2),n=s[0],c=s[1];return t?Object(o.jsxs)("div",{className:"chart-block",children:[Object(o.jsx)(C.a,{children:Object(o.jsx)(v.a,{children:Object(o.jsx)("p",{children:"\u0417\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u044c \u0441\u0442\u0430\u043d\u0446\u0438\u0438 \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0438 \u0434\u043d\u044f"})})}),Object(o.jsx)(C.a,{children:Object(o.jsx)(v.a,{children:Object(o.jsx)(R.a,{activeKey:n,onSelect:function(e){return c(e)},children:S.a.map(t,(function(e,t){var a={labels:S.a.map(e.time.slice(6),(function(e){return e+"\u0447"})),datasets:[{label:"\u0443\u0440\u043e\u0432\u0435\u043d\u044c \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u0438",data:S.a.map(e.rate.slice(6),(function(e){return e})),fill:"origin",backgroundColor:"#d02a31"}]};return Object(o.jsx)(E.a,{eventKey:G[e.weekday],title:G[e.weekday],children:Object(o.jsx)(k.a,{data:a,options:U})},t)}))})})})]}):Object(o.jsx)(z.a,{animation:"border"})};var P=function(e){var t=e.stationInfo,a=JSON.parse(t.properties.geo_coords),s=Object(r.useState)({latitude:a[1],longitude:a[0]}),n=Object(l.a)(s,2),c=n[0],j=n[1];return Object(o.jsxs)("div",{className:"enters-map",children:[Object(o.jsx)("div",{className:"enters-map_title",children:Object(o.jsx)("p",{children:"\u0412\u044b\u0445\u043e\u0434\u044b \u0438\u0437 \u043c\u0435\u0442\u0440\u043e"})}),Object(o.jsx)(d.c,Object(i.a)(Object(i.a)({mapboxApiAccessToken:"pk.eyJ1IjoiZG9uaW5wciIsImEiOiJjaXVxM3E4OTkwMDAwMm9wczBnYjR4bnJoIn0.7drt92qBRl7KJ6dLg0mrww",mapStyle:"mapbox://styles/doninpr/ckgwdst571ils19l9lnybwdta/draft"},c),{},{onViewportChange:function(e){return j(e)},height:300,width:"100%",minZoom:13,maxZoom:18}))]})},Q={1:"\u0421\u043e\u043a\u043e\u043b\u044c\u043d\u0438\u0447\u0435\u0441\u043a\u0430\u044f",2:"\u0417\u0430\u043c\u043e\u0441\u043a\u0432\u043e\u0440\u0435\u0446\u043a\u0430\u044f",3:"\u0410\u0440\u0431\u0430\u0442\u0441\u043a\u043e-\u041f\u043e\u043a\u0440\u043e\u0432\u0441\u043a\u0430\u044f",4:"\u0424\u0438\u043b\u0435\u0432\u0441\u043a\u0430\u044f",5:"\u041a\u043e\u043b\u044c\u0446\u0435\u0432\u0430\u044f",6:"\u041a\u0430\u043b\u0443\u0436\u0441\u043a\u043e-\u0420\u0438\u0436\u0441\u043a\u0430\u044f",7:"\u0422\u0430\u0433\u0430\u043d\u0441\u043a\u043e-\u041a\u0440\u0430\u0441\u043d\u043e\u043f\u0440\u0435\u0441\u043d\u0435\u043d\u0441\u043a\u0430\u044f",8:"\u041a\u0430\u043b\u0438\u043d\u0438\u043d\u0441\u043a\u043e-\u0421\u043e\u043b\u043d\u0446\u0435\u0432\u0441\u043a\u0430\u044f",9:"\u0421\u0435\u0440\u043f\u0443\u0445\u043e\u0432\u0441\u043a\u043e-\u0422\u0438\u043c\u0438\u0440\u044f\u0437\u0435\u0432\u0441\u043a\u0430\u044f",10:"\u041b\u044e\u0431\u043b\u0438\u043d\u0441\u043a\u043e-\u0414\u043c\u0438\u0442\u0440\u043e\u0432\u0441\u043a\u0430\u044f","11A":"\u041a\u0430\u0445\u043e\u0432\u0441\u043a\u0430\u044f",12:"\u0411\u0443\u0442\u043e\u0432\u0441\u043a\u0430\u044f",14:"\u041c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u043e\u0435 \u0426\u0435\u043d\u0442\u0440\u0430\u043b\u044c\u043d\u043e\u0435 \u041a\u043e\u043b\u044c\u0446\u043e",13:"\u041c\u043e\u043d\u043e\u0440\u0435\u043b\u044c\u0441",D1:"\u041c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u0438\u0435 \u0446\u0435\u043d\u0442\u0440\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0438\u0430\u043c\u0435\u0442\u0440\u044b",D2:"\u041c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u0438\u0435 \u0446\u0435\u043d\u0442\u0440\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0438\u0430\u043c\u0435\u0442\u0440\u044b",15:"\u041d\u0435\u043a\u0440\u0430\u0441\u043e\u0432\u0441\u043a\u0430\u044f"},J=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(e){var o;return Object(m.a)(this,a),(o=t.call(this,e)).props=e,o}return Object(x.a)(a,[{key:"render",value:function(){var e=this,t=this.props.stationInfo;return Object(o.jsxs)(w.a,{className:"modal-full",show:this.props.show,onHide:function(){return e.props.setShow(!1)},size:this.props.size||"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(o.jsx)(w.a.Header,{closeButton:!0,children:Object(o.jsx)(w.a.Title,{id:"contained-modal-title-vcenter",children:t.properties&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"station-caption",children:Q[t.properties.line]}),Object(o.jsxs)("div",{className:"station-header",children:[Object(o.jsx)("span",{style:{backgroundColor:t.properties.color},children:t.properties.line}),t.properties.name]})]})})}),Object(o.jsxs)(w.a.Body,{children:[Object(o.jsxs)(C.a,{className:"help-buttons",children:[Object(o.jsx)(v.a,{xs:12,children:Object(o.jsx)(B.a,{href:"https://mosmetro.ru/mobile/podat-zayavku-na-soprovozhdenie/",target:"_blank",children:"\u041f\u043e\u043c\u043e\u0449\u044c \u043c\u0430\u043b\u043e\u043c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u043c \u0433\u0440\u0430\u0436\u0434\u0430\u043d\u0430\u043c"})}),Object(o.jsx)(v.a,{xs:12,children:Object(o.jsx)(B.a,{href:"https://mosmetro.ru/info/zabytye-veshchi/",target:"_blank",children:"\u041f\u043e\u0442\u0435\u0440\u044f\u043b \u0432\u0435\u0449\u044c"})})]}),Object(o.jsx)(M,{data:this.props.wifiData}),Object(o.jsx)(P,{stationInfo:t})]})]})}}]),a}(s.a.Component),L=a(379),F=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(e){var o;return Object(m.a)(this,a),(o=t.call(this,e)).props=e,o}return Object(x.a)(a,[{key:"render",value:function(){var e=this;return Object(o.jsxs)(w.a,{className:"modal-full",show:this.props.show,onHide:function(){return e.props.setShow(!1)},size:this.props.size||"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(o.jsx)(w.a.Header,{closeButton:!0,children:Object(o.jsx)(w.a.Title,{id:"contained-modal-title-vcenter",children:"\u041e\u043a\u0430\u0437\u0430\u043d\u0438\u0435 \u043f\u043e\u043c\u043e\u0449\u0438 \u043c\u0430\u043b\u043e\u043c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u043c \u0433\u0440\u0430\u0436\u0434\u0430\u043d\u0430\u043c"})}),Object(o.jsx)(w.a.Body,{children:Object(o.jsxs)(L.a,{children:[Object(o.jsxs)(L.a.Row,{children:[Object(o.jsxs)(L.a.Group,{as:v.a,controlId:"formGridEmail",children:[Object(o.jsx)(L.a.Label,{children:"Email"}),Object(o.jsx)(L.a.Control,{type:"email",placeholder:"Enter email"})]}),Object(o.jsxs)(L.a.Group,{as:v.a,controlId:"formGridPassword",children:[Object(o.jsx)(L.a.Label,{children:"Password"}),Object(o.jsx)(L.a.Control,{type:"password",placeholder:"Password"})]})]}),Object(o.jsxs)(L.a.Group,{controlId:"formGridAddress1",children:[Object(o.jsx)(L.a.Label,{children:"Address"}),Object(o.jsx)(L.a.Control,{placeholder:"1234 Main St"})]}),Object(o.jsxs)(L.a.Group,{controlId:"formGridAddress2",children:[Object(o.jsx)(L.a.Label,{children:"Address 2"}),Object(o.jsx)(L.a.Control,{placeholder:"Apartment, studio, or floor"})]}),Object(o.jsxs)(L.a.Row,{children:[Object(o.jsxs)(L.a.Group,{as:v.a,controlId:"formGridCity",children:[Object(o.jsx)(L.a.Label,{children:"City"}),Object(o.jsx)(L.a.Control,{})]}),Object(o.jsxs)(L.a.Group,{as:v.a,controlId:"formGridState",children:[Object(o.jsx)(L.a.Label,{children:"State"}),Object(o.jsxs)(L.a.Control,{as:"select",defaultValue:"Choose...",children:[Object(o.jsx)("option",{children:"Choose..."}),Object(o.jsx)("option",{children:"..."})]})]}),Object(o.jsxs)(L.a.Group,{as:v.a,controlId:"formGridZip",children:[Object(o.jsx)(L.a.Label,{children:"Zip"}),Object(o.jsx)(L.a.Control,{})]})]}),Object(o.jsx)(L.a.Group,{id:"formGridCheckbox",children:Object(o.jsx)(L.a.Check,{type:"checkbox",label:"Check me out"})}),Object(o.jsx)(B.a,{variant:"primary",type:"submit",children:"Submit"})]})})]})}}]),a}(s.a.Component),V=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(e){var o;return Object(m.a)(this,a),(o=t.call(this,e)).props=e,o}return Object(x.a)(a,[{key:"render",value:function(){var e=this;return Object(o.jsxs)("div",{id:"searchbox",children:[Object(o.jsx)(C.a,{children:Object(o.jsx)(v.a,{className:"search-header",children:Object(o.jsx)("h5",{children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0430\u043d\u0446\u0438\u0438 \u043d\u0430 \u043a\u0430\u0440\u0442\u0435"})})}),Object(o.jsxs)(C.a,{className:"searchbox-inner",children:[Object(o.jsx)(v.a,{xs:6,children:Object(o.jsx)(L.a.Group,{className:"searchbox-input searchbox-input_left",controlId:"searchForm.from",children:Object(o.jsx)(L.a.Control,{type:"text",placeholder:"\u041e\u0442\u043a\u0443\u0434\u0430",value:this.props.selectedStation1?this.props.selectedStation1.properties.name:"",readOnly:!0})})}),Object(o.jsx)(v.a,{xs:6,children:Object(o.jsx)(L.a.Group,{className:"searchbox-input searchbox-input_right",controlId:"searchForm.where",children:Object(o.jsx)(L.a.Control,{type:"text",placeholder:"\u041a\u0443\u0434\u0430",value:this.props.selectedStation2?this.props.selectedStation2.properties.name:"",readOnly:!0})})})]}),Object(o.jsx)("div",{className:"switch-button",onClick:function(){var t=e.props.selectedStation1?Object.assign(e.props.selectedStation1):null,a=e.props.selectedStation2?Object.assign(e.props.selectedStation2):null;e.props.setSelectedStation1(a),e.props.setSelectedStation2(t)},children:Object(o.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAB2AAAAdgB+lymcgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAEBSURBVHic7dhBCsIwEEbhh6dT3HShuNDTt95CoS5sUWtBkZBpzPsgWzvza80kIEmSJEmSCrEBumE1wbWE6IB+WBfgEFtOfs8BVBlCw73pqkPY8R7CFThFFpWbIZAhhC1wnjyghHUh0RY5/cctaXWfmlv9FEk5+hQfMk5d0d9m2CuwdHvm/wSPkUXlYvNU2nz1o/BiDkMNj3P5JuNzF3EcPvD6M/w4dCQ0bs0tQVvdtPl+KKYKc807dEQWlYvNU2nzc0NHCSvZ1lziSfDrnenf7wOSKPUVaIF1qhC8fcUQAEMAKh+FR3Mh5DwNLsI0hGpOg8/GC5GWvBcikiRJkiTpdzfUoaKT2ksCuQAAAABJRU5ErkJggg=="})})]})}}]),a}(s.a.Component),X=(a(328),a(110)),Z=(a(142),a(92),null),_=null;var T=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),s=t[0],n=t[1],c=Object(r.useState)(!1),d=Object(l.a)(c,2),j=d[0],b=d[1],A=Object(r.useState)(h.a.featureCollection([])),O=Object(l.a)(A,2),m=O[0],x=O[1],f=Object(r.useState)(null),g=Object(l.a)(f,2),y=g[0],w=g[1],C=Object(r.useState)(null),v=Object(l.a)(C,2),B=v[0],N=v[1],k=Object(r.useState)(h.a.featureCollection([])),z=Object(l.a)(k,2),R=z[0],E=z[1],U=Object(r.useState)(h.a.featureCollection([])),G=Object(l.a)(U,2),M=G[0],P=G[1],Q=Object(r.useState)(!1),L=Object(l.a)(Q,2),T=L[0],H=L[1],Y=Object(r.useState)(!1),K=Object(l.a)(Y,2),W=K[0],q=K[1],$=Object(r.useState)(h.a.featureCollection([])),ee=Object(l.a)($,2),te=ee[0],ae=ee[1],oe=Object(r.useState)(null),re=Object(l.a)(oe,2),se=re[0],ne=re[1],ce=Object(r.useState)(h.a.featureCollection([])),ie=Object(l.a)(ce,2),le=ie[0],de=ie[1],je=Object(r.useState)(h.a.featureCollection([])),pe=Object(l.a)(je,2),be=pe[0],he=pe[1],Ae=Object(r.useState)(h.a.featureCollection([])),Oe=Object(l.a)(Ae,2),ue=Oe[0],me=Oe[1],xe=Object(r.useState)(h.a.featureCollection([])),fe=Object(l.a)(xe,2),ge=fe[0],ye=fe[1],Se=Object(r.useState)(h.a.featureCollection([])),we=Object(l.a)(Se,2),Ce=we[0],ve=we[1],Be=Object(r.useState)(h.a.featureCollection([])),Ne=Object(l.a)(Be,2),De=Ne[0],Ie=Ne[1],ke=Object(r.useState)(!1),ze=Object(l.a)(ke,2),Re=ze[0],Ee=ze[1],Ue=function(){Z.get("GeoPoints").then((function(e){E(h.a.featureCollection(S.a.map(e.geo,(function(e){return h.a.feature(e.geometry,Object(i.a)(Object(i.a)({},e),{},{geometry:null}))}))))})),Z.get("GeoLines").then((function(e){P(h.a.featureCollection(S.a.map(e.geo,(function(e){return h.a.feature(e.geometry,Object(i.a)(Object(i.a)({},e),{},{geometry:null}))}))))})),Z.get("WifiStats").then((function(e){ne(e.wifi)})),Z.get("metro_river").then((function(e){de(e.geo)})),Z.get("metro_prigorod").then((function(e){he(e.geo)})),Z.get("metro_to_airoprt_line").then((function(e){ye(e.geo)})),Z.get("metro_to_airport_point").then((function(e){me(e.geo)})),Z.get("metro_end_point").then((function(e){ve(e.geo)})),Z.get("metro_airport").then((function(e){Ie(e.geo)}))};return W||(!1===T&&"error"!==T&&(Z=new X.a("test3"),_=new X.a("http://admin:crz73Bv4@20.67.108.207:5984/test3"),Z.replicate.from(_,(function(e,t){e?(H("error"),console.log(e)):H(!0)}))),Z&&Z.info().then((function(){Ue()})).catch((function(e){console.log("db empty")})),q(!0)),Object(r.useEffect)((function(){!0===T&&Ue()}),[T]),Object(r.useEffect)((function(){j?p()("body").removeClass("fix-scroll"):p()("body").addClass("fix-scroll")}),[j]),Object(r.useEffect)((function(){if(y&&B&&M){var e=new(a(365))(M,{precision:.001}).findPath(y,B),t=a(142).default,o=S.a.filter(M.features,(function(a){return t(h.a.lineString(e.path),h.a.lineString(a.geometry.coordinates),{tolerance:1e-4}).features.length>=1})),r=S.a.filter(R.features,(function(a){return t(h.a.buffer(a,1e-4,"kilometers"),h.a.lineString(e.path),{tolerance:1e-4}).features.length>=1}));ae(h.a.featureCollection(r)),x(h.a.featureCollection(o))}}),[y,B]),Object(r.useEffect)((function(){s?p()("body").addClass("fix-scroll"):p()("body").removeClass("fix-scroll")}),[s]),Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(u,{setShowStationInfo:n,stationsData:R,linesData:M,pathData:m,selectedStation1:y,selectedStation2:B,setSelectedStation1:w,setSelectedStation2:N,pathStations:te,riverData:le,boundaryData:be,airportPointsData:ue,airportLinesData:ge,metroPointsData:Ce,airportData:De}),Object(o.jsx)(V,{selectedStation1:y,selectedStation2:B,setSelectedStation1:w,setSelectedStation2:N}),Object(o.jsx)(D,{className:"modal-small modal-bottom",stationInfo:s,setShow:n,setShowFullModal:b,setSelectedStation1:w,setSelectedStation2:N}),Object(o.jsx)(I,{className:"modal-small modal-bottom",pathData:m,setPathData:x,selectedStation1:y,selectedStation2:B}),Object(o.jsx)(J,{show:j,setShow:b,stationInfo:s,wifiData:se,setShowInclusiveForm:Ee}),Object(o.jsx)(F,{show:Re,setShow:Ee})]})};c.a.render(Object(o.jsx)(s.a.StrictMode,{children:Object(o.jsx)(T,{})}),document.getElementById("root"))}},[[370,1,2]]]);
//# sourceMappingURL=main.b76bf3fc.chunk.js.map